<p align="center">
  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="200" alt="Nest Logo" /></a>
</p>

[circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
[circleci-url]: https://circleci.com/gh/nestjs/nest

  <p align="center">A progressive <a href="http://nodejs.org" target="_blank">Node.js</a> framework for building efficient and scalable server-side applications.</p>
    <p align="center">
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/v/@nestjs/core.svg" alt="NPM Version" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/l/@nestjs/core.svg" alt="Package License" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/dm/@nestjs/common.svg" alt="NPM Downloads" /></a>
<a href="https://circleci.com/gh/nestjs/nest" target="_blank"><img src="https://img.shields.io/circleci/build/github/nestjs/nest/master" alt="CircleCI" /></a>
<a href="https://coveralls.io/github/nestjs/nest?branch=master" target="_blank"><img src="https://coveralls.io/repos/github/nestjs/nest/badge.svg?branch=master#9" alt="Coverage" /></a>
<a href="https://discord.gg/G7Qnnhy" target="_blank"><img src="https://img.shields.io/badge/discord-online-brightgreen.svg" alt="Discord"/></a>
<a href="https://opencollective.com/nest#backer" target="_blank"><img src="https://opencollective.com/nest/backers/badge.svg" alt="Backers on Open Collective" /></a>
<a href="https://opencollective.com/nest#sponsor" target="_blank"><img src="https://opencollective.com/nest/sponsors/badge.svg" alt="Sponsors on Open Collective" /></a>
  <a href="https://paypal.me/kamilmysliwiec" target="_blank"><img src="https://img.shields.io/badge/Donate-PayPal-ff3f59.svg"/></a>
    <a href="https://opencollective.com/nest#sponsor"  target="_blank"><img src="https://img.shields.io/badge/Support%20us-Open%20Collective-41B883.svg" alt="Support us"></a>
  <a href="https://twitter.com/nestframework" target="_blank"><img src="https://img.shields.io/twitter/follow/nestframework.svg?style=social&label=Follow"></a>
</p>
  <!--[![Backers on Open Collective](https://opencollective.com/nest/backers/badge.svg)](https://opencollective.com/nest#backer)
  [![Sponsors on Open Collective](https://opencollective.com/nest/sponsors/badge.svg)](https://opencollective.com/nest#sponsor)-->

# ğŸ–¥ï¸ Team ê´‘ìˆ˜ì™€ ì•„ì´ë“¤ì˜ Nest.js íŠ¸ë ë¡œ ë§Œë“¤ê¸° í”„ë¡œì íŠ¸

## í”„ë¡œì íŠ¸ ì†Œê°œ

- í”„ë¡œì íŠ¸ ì´ë¦„ : 5ì¡° íŠ¸ë ë¡œ ë§Œë“¤ê¸°
- ë‚´ìš© : í˜„ì¬ ì‚¬ìš©ë˜ê³  ìˆëŠ” íŠ¸ë ë¡œì™€ ìœ ì‚¬í•œ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“¤ì–´ íŒ€ì›ë“¤ íŒ€ì›ë“¤ ê°„ í˜‘ì—…ì— ìš©ì´í•œ ë‚´ìš©ì„ ê³µìœ  í•  ìˆ˜ ìˆê²Œ í•œë‹¤.
- êµ¬ë¶„ : íŒ€ í”„ë¡œì íŠ¸
- GitHub : https://github.com/KwangSoo1555/sparta-6th-week-trello-project
- ì‹œì—° ì˜ìƒ : https://youtu.be/Uo9lumzJrsI <- ì—¬ê¸°ë‹¤ ë„£ì–´ì•¼í•¨. ë¯¸ì •
- ë°°í¬ : https://currypang.shop/ <- ì—¬ê¸°ë‹¤ ë„£ì–´ì•¼í•¨. ë¯¸ì •

<br>

## íŒ€ì› êµ¬ì„±

- íŒ€ì¥ : ë³µê´‘ìˆ˜ [@KwangSoo1555](https://github.com/KwangSoo1555)
- íŒ€ì› : ê¹€ë§Œê·œ [@fierceCry](https://github.com/fierceCry)
- íŒ€ì› : ì´ìœ¤í˜• [@clearghost3](https://github.com/clearghost3)
- íŒ€ì› : ì´ê¸¸í˜„ [@leegilhyeon](https://github.com/leegilhyeon)
- íŒ€ì› : ì†¡ì‚¬ë¬´ì—˜ [@SaintSSong](https://github.com/SaintSSong)

<br>

## 1. ê°œë°œ ê¸°ê°„

- 2024.07.11 ~ 2024.07.18

<br>

## 2. ê°œë°œ í™˜ê²½

- ìš´ì˜ì²´ì œ : Window/Mac
- FrontEnd : X
- BackEnd : Node.js, Express, MySQL(Prisma)
- Tool : Visual Studio Code, Insomnia, MySQL Workbench, DBeaver
- Publish : PM2, AWS/RDS, AWS/EC2, AWS/load balancer

<br>

## 3. ì—­í•  ë¶„ë°°

- **ë³µê´‘ìˆ˜**
  - ì´ë©”ì¼ ì¸ì¦ ì½”ë“œ
  - íšŒì›ê°€ì…
  - ë¡œê·¸ì¸
  - ë¡œê·¸ì•„ì›ƒ
  - í† ê·¼ ì¬ë°œê¸‰
  - ì‚¬ìš©ì í”„ë¡œí•„ ì¡°íšŒ
  - ì‚¬ìš©ì í”„ë¡œí•„ ìˆ˜ì •
  - ì‚¬ìš©ì ë³´ë“œ ì¡°íšŒ
  - ë³´ë“œ ë©¤ë²„ ì¡°íšŒ
  - ë©¤ë²„ ê°•ì œ í‡´ì¥
  - ì†Œì…œ ë¡œê·¸ì¸(Naver, Kakao, Google)
- **ì´ìœ¤í˜•**

  - ë©¤ë²„ ê¶Œí•œ ë³€ê²½
  - ë©¤ë²„ ë³„ëª… ë³€ê²½
  - ë³´ë“œ ìƒì„±
  - ë³´ë“œ ìˆ˜ì •
  - ë³´ë“œ ì‚­ì œ
  - ë³´ë“œ ì´ˆëŒ€ë§í¬ ìƒì„±

- **ì´ê¸¸í˜„**

  - ë¦¬ìŠ¤íŠ¸ ìƒì„±
  - ë¦¬ìŠ¤íŠ¸ ì´ë¦„ ìˆ˜ì •
  - ë¦¬ìŠ¤íŠ¸ ì‚­ì œ
  - ë¦¬ìŠ¤íŠ¸ ìˆœì„œ ì´ë™

- **ì†¡ì‚¬ë¬´ì—˜**
  - ì¹´ë“œ ìƒì„±
  - ì¹´ë“œ ìˆ˜ì •
  - ì¹´ë“œ ì‚­ì œ
  - ì¹´ë“œ ìˆœì„œ ì´ë™
- **ê¹€ë§Œê·œ**
  - ì¹´ë“œ ëŒ“ê¸€ ìƒì„±
  - ì¹´ë“œ ëŒ“ê¸€ ìˆ˜ì •
  - ì¹´ë“œ ëŒ“ê¸€ ì‚­ì œ
  - ì¹´ë“œ ë‚ ì§œ ì§€ì •
  - ì¹´ë“œ íŒŒì¼ ì—…ë¡œë“œ
  - ì¹´ë“œ íŒŒì¼ ì‚­ì œ
  - ì¹´ë“œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë‚´ìš© ì¶”ê°€
  - ì¹´ë“œ ì²´í¬ë¦¬ìŠ¤íŠ¸ í† ê¸€ ë³€ê²½
  - Socket ì•Œë¦¼ ëª©ë¡ì¡°íšŒ

<br>

## 4. API ëª…ì„¸ì„œ ë° ERD, ì™€ì´ì–´ í”„ë ˆì„

- API ëª…ì„¸ì„œ : [https://west-territory-778.notion.site/Team-Ace-Node-js-API-221adeefaec14c38bf1a623f068c0c22?pvs=4](https://www.notion.so/teamsparta/294c35986a084687bda3f2ee3b2d103b?v=49f77c87142442b693e2449acdfdad20&pvs=4)
- ERD : ![ERD](https://github.com/user-attachments/assets/78ab3742-d735-4ca2-b9bd-a21b595daf70)

![ì™€ì´ì–´ í”„ë ˆì„ 1](https://github.com/user-attachments/assets/f31add8e-efcf-4f91-8862-465b32e1b170)
![ì™€ì´ì–´ í”„ë ˆì„ 2](https://github.com/user-attachments/assets/8cd07eb0-3078-4447-aed5-8de56ea615d8)

<br>

## 5. ì£¼ìš” ê¸°ëŠ¥ ë° ì„¤ëª…

### 5-1. ì´ë©”ì¼ ì¸ì¦ API

- íšŒì› ê°€ì…ì„ ìœ„í•œ ì´ë©”ì¼ ì¸ì¦ ì½”ë“œë¥¼ ë°˜í™˜í•˜ëŠ” APIì…ë‹ˆë‹¤.

- ì´ë©”ì¼ ê°€ì… ì‹œ ì´ë©”ì¼ ì¸ì¦ì„ ìœ„í•œ Nodemailerì™€ ê°™ì€ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

- nodemailer.createTransport() ë©”ì„œë“œë¥¼ í†µí•´ ë©”ì¼ ë°œì†¡ì„ ìœ„í•œ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

- codeObjectë¼ëŠ” ì¸ì¦ ì½”ë“œ ê°ì²´ë¥¼ í†µí•´ì„œ ì½”ë“œì˜ ìœ íš¨ ì—¬ë¶€ë¥¼ íŒë‹¨í•©ë‹ˆë‹¤.

- https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/a261f54c8a51ac41fc61c0b6f3651210b40316cb/src/modules/auth/email/email-verification.service.ts#L11

![ì´ë©”ì¼ ì¸ì¦](https://github.com/user-attachments/assets/2814efe7-0d20-44cd-ad26-678c94d9604a)

<br>

### 5-2. íšŒì›ê°€ì… API

- **ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸, ë¹„ë°€ë²ˆí˜¸ í™•ì¸, ì´ë¦„, ì´ë©”ì¼ ì¸ì¦ ì½”ë“œ**ë¥¼ Request Body(**`req.body`**)ë¡œ ì „ë‹¬ ë°›ìŠµë‹ˆë‹¤.

- **ë³´ì•ˆì„ ìœ„í•´ ë¹„ë°€ë²ˆí˜¸ëŠ”** í‰ë¬¸(Plain Text)ìœ¼ë¡œ ì €ì¥í•˜ì§€ ì•Šê³  `Hash` ëœ ê°’ì„ ì €ì¥í•©ë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/auth.routers.js#L17](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/a261f54c8a51ac41fc61c0b6f3651210b40316cb/src/modules/auth/users-auth/user-auth.service.ts#L37)

![íšŒì›ê°€ì…](https://github.com/user-attachments/assets/85086bea-1640-4e5b-b1fd-d8cd5a86928b)

<br>

### 5-3. ë¡œê·¸ì¸ API

- **ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸**ë¥¼ Request Body(**`req.body`**)ë¡œ ì „ë‹¬ ë°›ìŠµë‹ˆë‹¤.

- **AccessToken(Payload**ì— `ì‚¬ìš©ì ID`ë¥¼ í¬í•¨í•˜ê³ , **ìœ íš¨ê¸°í•œ**ì´ `12ì‹œê°„`)ì„ ìƒì„±í•©ë‹ˆë‹¤.

- **RefreshToken(Payload**ì— `ì‚¬ìš©ì ID`ë¥¼ í¬í•¨í•˜ê³ , **ìœ íš¨ê¸°í•œ**ì´ `7ì¼`)ì„ ìƒì„±í•©ë‹ˆë‹¤.

- **AccessToken**ì™€**RefreshToken**ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/auth.routers.js#L83](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/a261f54c8a51ac41fc61c0b6f3651210b40316cb/src/modules/auth/users-auth/user-auth.service.ts#L71)

![ë¡œê·¸ì¸](https://github.com/user-attachments/assets/d1751d46-ff7d-4e04-9bb1-42e04e915bcf)

<br>

### 5-4. ì¹´ì¹´ì˜¤ ì†Œì…œ ë¡œê·¸ì¸ API ë¯¸êµ¬í˜„

- `OAuth`ë¥¼ ì´ìš©í•œ ë¡œê·¸ì¸ APIì…ë‹ˆë‹¤.

- ì™¸ë¶€ì˜ ë¡œê·¸ì¸ ì¸ì¦ ìˆ˜ë‹¨ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ `passport` ëª¨ë“ˆì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

- ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” https://developers.kakao.com/ ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë“±ë¡í•´ì•¼ í•©ë‹ˆë‹¤.

- ë¡œê·¸ì¸ ê³¼ì •

  - `/auth/kakao` ë¼ìš°í„°ë¥¼ í†µí•´ ë¡œê·¸ì¸ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ `passport.authenticate` ë©”ì„œë“œ í˜¸ì¶œí•©ë‹ˆë‹¤.
  - `KakaoStrategy ì „ëµ` ì‹¤í–‰í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì‚¬ìš©ì ì •ë³´ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
  - `ì‚¬ìš©ì ID`ë¥¼ ë‹´ì€ `JWT í† í°`ì„ ìƒì„±í•´ì„œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜í•©ë‹ˆë‹¤.

- https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/auth-passport.router.js#L17

![ì¹´ì¹´ì˜¤ ì†Œì…œ ë¡œê·¸ì¸ API](./imgs/4-kakao-social.png)

<br>

### 5-5. ë„¤ì´ë²„ ì†Œì…œ ë¡œê·¸ì¸ API ë¯¸êµ¬í˜„

- `OAuth`ë¥¼ ì´ìš©í•œ ë¡œê·¸ì¸ APIì…ë‹ˆë‹¤.

- ì™¸ë¶€ì˜ ë¡œê·¸ì¸ ì¸ì¦ ìˆ˜ë‹¨ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ `passport` ëª¨ë“ˆì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

- ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” https://developers.naver.com/ ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë“±ë¡í•´ì•¼ í•©ë‹ˆë‹¤.

- ë¡œê·¸ì¸ ê³¼ì •

  - `/auth/naver` ë¼ìš°í„°ë¥¼ í†µí•´ ë¡œê·¸ì¸ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ `passport.authenticate` ë©”ì„œë“œ í˜¸ì¶œí•©ë‹ˆë‹¤.
  - `naverStrategy ì „ëµ` ì‹¤í–‰í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì‚¬ìš©ì ì •ë³´ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
  - `ì‚¬ìš©ì ID`ë¥¼ ë‹´ì€ `JWT í† í°`ì„ ìƒì„±í•´ì„œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜í•©ë‹ˆë‹¤.

- https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/auth-passport.router.js#L38

![ë„¤ì´ë²„ ì†Œì…œ ë¡œê·¸ì¸ API](./imgs/5-naver-social.png)

<br>

### 5-6. í† í° ì¬ë°œê¸‰ API ë§ëŠ”ì§€ í™•ì¸ í•„ìš”

- `Refresh Token`ë¥¼ ìƒˆë¡­ê²Œ ë°œê¸‰ APIì…ë‹ˆë‹¤.

- ë‹¤ë¥¸ APIì™€ëŠ” ë‹¤ë¥´ê²Œ `Refresh Token`ì„ `í—¤ë”`ë¡œ ë°›ì•„ì™€ì„œ `DBì— ìˆëŠ” í† í°`ê³¼ ë¹„êµí•©ë‹ˆë‹¤.

- í† í° ìœ íš¨ì„± ê²€ì‚¬ê°€ í†µê³¼í•˜ë©´ ìƒˆë¡œìš´ Refresh í† í°ì„ ì¬ë°œê¸‰ ë°›ìŠµë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/auth.routers.js#L109](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/a261f54c8a51ac41fc61c0b6f3651210b40316cb/src/modules/auth/users-auth/user-auth.service.ts#L71)

<br>

### 5-7. ë¡œê·¸ì•„ì›ƒ API

- ë¡œê·¸ì¸í•œ ì‚¬ìš©ìê°€ ë¡œê·¸ì•„ì›ƒ í•˜ëŠ” APIì…ë‹ˆë‹¤.

- refreshTokenValidator í†µí•´ì„œ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ Refresh Tokenë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.

- í† í° ìœ íš¨ì„± ê²€ì‚¬ê°€ í†µê³¼í•˜ë©´ DBì— ìˆëŠ” ê¸°ì¡´ Refresh Tokenì„ nullê°’ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.

- ì¦‰, Refresh Tokenì„ íê¸°í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

- https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/a261f54c8a51ac41fc61c0b6f3651210b40316cb/src/modules/auth/users-auth/user-auth.service.ts#L113

![ë¡œê·¸ì•„ì›ƒ](https://github.com/user-attachments/assets/75ce52ce-4a90-48cd-9302-c743f2987c71)

<br>

### 5-8. ë‚´ ì •ë³´ ì¡°íšŒ API

- ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì¡°íšŒí•˜ëŠ” APIì…ë‹ˆë‹¤.

- `accessTokenValidator`ë¥¼ í†µí•´ì„œ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ `Access Tokenë¥¼ ê²€ì¦`í•©ë‹ˆë‹¤.

- í† í° ìœ íš¨ì„± ê²€ì‚¬ê°€ í†µê³¼í•˜ë©´ `id: userId`ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

- ê·¸ëŒ€ë¡œ ì¡°íšŒí•œ ì‚¬ìš©ì ë°ì´í„°ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

- https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/a261f54c8a51ac41fc61c0b6f3651210b40316cb/src/modules/users/users.service.ts#L28

![ë‚´ ì •ë³´ ê°€ì ¸ì˜¤ê¸°](https://github.com/user-attachments/assets/74f82e8c-ea2b-4036-8d49-b2f9383cb66f)

<br>

### 5-9. ë‚´ ì •ë³´ ìˆ˜ì • API

- ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ìˆ˜ì •í•˜ëŠ” APIì…ë‹ˆë‹¤.

- `ì´ë©”ì¼, ì´ë¦„, ìˆ˜ì •í•  ë¹„ë°€ë²ˆí˜¸, ìˆ˜ì •í•  ë¹„ë°€ë²ˆí˜¸ í™•ì¸`ì„ `req.body`ë¥¼ í†µí•´ ë°›ì•„ì˜µë‹ˆë‹¤.

- https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/a261f54c8a51ac41fc61c0b6f3651210b40316cb/src/modules/users/users.service.ts#L35

![ë‚´ ì •ë³´ ìˆ˜ì •í•˜ê¸°](https://github.com/user-attachments/assets/8f7e6b0b-299a-4fa8-a28b-21c7838e20f1)

<br>

### 5-10. ë³´ë“œ ìƒì„± API ìœ¤í˜•ë‹˜ ë¶€íƒí•´ìš”

- íŒë§¤í•  ìƒí’ˆì˜ ì •ë³´ë¥¼ ì…ë ¥ ë°›ì•„ ê²Œì‹œë¬¼ì„ ìƒì„±í•˜ëŠ” APIì…ë‹ˆë‹¤.

- `ê²Œì‹œë¬¼ ì œëª©, ê²Œì‹œë¬¼ ë‚´ìš©, ìƒí’ˆ ê°€ê²©, íŒë§¤ ì§€ì—­`ì„ `req.body`ë¥¼ í†µí•´ ë°›ì•„ì˜µë‹ˆë‹¤.

- `ìƒí’ˆ ì‚¬ì§„`ë“¤ì€ íŒŒì¼ì„ ì—…ë¡œë“œí•´ì„œ ë³´ë‚´ë©´ `multer ê°ì²´`ë¥¼ í†µí•´ `AWS S3ì— URL í˜•íƒœ`ë¡œ ì €ì¥ë©ë‹ˆë‹¤.

- `ìƒí’ˆ ì‚¬ì§„ì˜ URL`ì€ `req.files`ë¥¼ í†µí•´ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤.

- ìƒí’ˆ ì‚¬ì§„ì€ í•„ìˆ˜ë¡œ ì²¨ë¶€í•´ì•¼ í•©ë‹ˆë‹¤.

- https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/trade.router.js#L16

![ê²Œì‹œë¬¼ ìƒì„± API](./imgs/12-trade-create.png)

<br>

### 5-11. ê²Œì‹œë¬¼ ëª©ë¡ ì¡°íšŒ API ìœ¤í˜•ë‹˜ ë¶€íƒí•´ìš”

- íŒë§¤ ë“±ë¡ëœ ìƒí’ˆì˜ ì •ë³´ ëª©ë¡ì„ ì¡°íšŒí•˜ëŠ” APIì…ë‹ˆë‹¤.

- ì¼ì¢…ì˜ `ë‰´ìŠ¤í”¼ë“œ`, ëª¨ë“  ì‚¬ìš©ìë“¤ì´ ì˜¬ë¦¬ëŠ” ê²Œì‹œë¬¼ì„ ë³´ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

- ê¸°ë³¸ì ìœ¼ë¡œëŠ” `ì‹œê°„ ìˆœ`ìœ¼ë¡œ ì •ë ¬ë˜ë©°, `like ì¿¼ë¦¬`ë¥¼ í†µí•´ `ì¢‹ì•„ìš” ìˆœ`ìœ¼ë¡œ ì •ë ¬ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

- ìƒí’ˆë“¤ì˜ ë°ì´í„° ì¡°íšŒ ì‹œ ê´€ê³„ê°€ ì„¤ì •ëœ `tradePicture í…Œì´ë¸”`ì—ì„œ `ì´ë¯¸ì§€ URL`ë¥¼ ë°˜ë³µí•´ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤.

- https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/trade.router.js#L67

![ê²Œì‹œë¬¼ ëª©ë¡ì¡°íšŒ-ê¸°ë³¸ê°’ API](./imgs/13-trade-list-default.png)
![ê²Œì‹œë¬¼ ëª©ë¡ì¡°íšŒ - sort API](./imgs/14-trade-list-sort.png)
![ê²Œì‹œë¬¼ ëª©ë¡ì¡°íšŒ - like API](./imgs/15-trade-list-like.png)
![ê²Œì‹œë¬¼ ëª©ë¡ì¡°íšŒ - follow API](./imgs/16-trade-list-follow.png)

<br>

### 5-12. ê²Œì‹œë¬¼ ìƒì„¸ ì¡°íšŒ API ìœ¤í˜•ë‹˜ ë¶€íƒí•´ìš”

- ê²Œì‹œë¬¼ì˜ ìƒì„¸í•œ ì •ë³´ë¥¼ ì¡°íšŒí•˜ëŠ” APIì…ë‹ˆë‹¤.

- ëª©ë¡ ì¡°íšŒì™€ëŠ” ë‹¤ë¥´ê²Œ ê²Œì‹œë¬¼ì˜ `ë‚´ìš©`ë„ í¬í•¨í•˜ì—¬ ì¶œë ¥í•©ë‹ˆë‹¤.

- `ìƒí’ˆ ê²Œì‹œë¬¼ì˜ ID`ëŠ” `req.params`ë¥¼ í†µí•´ URLì—ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤.

- ìƒí’ˆë“¤ì˜ ë°ì´í„° ì¡°íšŒ ì‹œ ê´€ê³„ê°€ ì„¤ì •ëœ `tradePicture í…Œì´ë¸”`ì—ì„œ `ì´ë¯¸ì§€ URL`ë¥¼ ë°˜ë³µí•´ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤.

- https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/trade.router.js#L131

![ê²Œì‹œë¬¼ ìƒì„¸ ì¡°íšŒ API](./imgs/17-trade-detail.png)

<br>

### 5-13. ê²Œì‹œë¬¼ ìˆ˜ì • API ìœ¤í˜•ë‹˜ ë¶€íƒí•´ìš”

- ìƒí’ˆ ê²Œì‹œë¬¼ì˜ ì •ë³´ë¥¼ ìˆ˜ì •í•˜ëŠ” APIì…ë‹ˆë‹¤.

- ìƒí’ˆ ê²Œì‹œë¬¼ ì‘ì„±ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ `ê²Œì‹œë¬¼ ì œëª©, ê²Œì‹œë¬¼ ë‚´ìš©, ìƒí’ˆ ê°€ê²©, íŒë§¤ ì§€ì—­`ì„ `req.body`ë¥¼ í†µí•´ ë°›ì•„ì˜µë‹ˆë‹¤.

- ìœ„ ë‚´ìš©ì€ í•„ìˆ˜ë¡œ ë°›ì•„ì˜¤ëŠ” ê²Œ ì•„ë‹ˆë¼ `ì¼ë¶€ë§Œ ìˆ˜ì •ì´ ê°€ëŠ¥`í•©ë‹ˆë‹¤.

- `íŠ¸ëœì ì…˜`ì„ ì‚¬ìš©í•´ì„œ `ê²Œì‹œë¬¼ ë°ì´í„°ì˜ ìˆ˜ì •ê³¼ ìƒí’ˆ ì‚¬ì§„ URLì˜ ì‚­ì œ, ìƒˆë¡œ ìƒì„±`ì„ ì§„í–‰í•©ë‹ˆë‹¤.

- ì´ë¯¸ì§€ ê°œìˆ˜ê°€ ë‹¤ë¥¼ ìˆ˜ë„ ìˆê³  ì–´ë–¤ ì´ë¯¸ì§€ê°€ ì–´ë–¤ ì´ë¯¸ì§€ë¡œ ìˆ˜ì •ë˜ëŠ”ì§€ ì•Œ ë°©ë²•ì´ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

- https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/trade.router.js#L167

![ê²Œì‹œë¬¼ ìˆ˜ì • API](./imgs/18-trade-update.png)

<br>

### 5-14. ê²Œì‹œë¬¼ ì‚­ì œ API ìœ¤í˜•ë‹˜ ë¶€íƒí•´ìš”

- ìƒí’ˆ ê²Œì‹œë¬¼ì„ ì„ íƒí•´ì„œ ì‚­ì œí•˜ëŠ” APIì…ë‹ˆë‹¤.

- `ìƒí’ˆ ê²Œì‹œë¬¼ì˜ ID`ëŠ” `req.params`ë¥¼ í†µí•´ URLì—ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤.

- í•´ë‹¹ IDë¥¼ ì¡°íšŒí•˜ê³  ì‚­ì œë¥¼ ì§„í–‰í•©ë‹ˆë‹¤. `(Hard Delete)`

- https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/trade.router.js#L238

![ê²Œì‹œë¬¼ ì‚­ì œ API](./imgs/19-trade-delete.png)

<br>

### 5-15. ë¦¬ìŠ¤íŠ¸ ìƒì„± API

- ë³´ë“œì— ë“¤ì–´ê°ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” APIì…ë‹ˆë‹¤.

- ì´í›„ ë¦¬ìŠ¤íŠ¸ ì†ì—ëŠ” ì¹´ë“œê°€ ë“¤ì–´ ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/trade.router.js#L271](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/c07c6a107ae51498a53f4d7f3f8b45da6313338a/src/modules/list/list.service.ts#L20)

![ë¦¬ìŠ¤íŠ¸ ìƒì„±](https://github.com/user-attachments/assets/b6f5126f-4713-422b-9864-5ba1c47bdb6a)

<br>

### 5-16. ë¦¬ìŠ¤íŠ¸ ì „ì²´ ì¡°íšŒ API

- ì‘ì„±ëœ ë¦¬ìŠ¤íŠ¸ë“¤ì„ ì „ë¶€ ì¡°íšŒí•˜ëŠ” APIì…ë‹ˆë‹¤.

- :boardIdë¥¼ í†µí•´ íŠ¹ì • ë³´ë”ë¥¼ ì§€ì •í•˜ê³  ë³´ë” ì†ì— ìˆëŠ” ë¦¬ìŠ¤íŠ¸ ì „ì²´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

- https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/c07c6a107ae51498a53f4d7f3f8b45da6313338a/src/modules/list/list.service.ts#L59

![ë¦¬ìŠ¤íŠ¸ ì „ì²´ ì¡°íšŒ](https://github.com/user-attachments/assets/057e35e6-ca24-487f-a499-55866f1388f9)

<br>

### 5-17. ë¦¬ìŠ¤íŠ¸ ìƒì„¸ ì¡°íšŒ API

- ì‘ì„±ëœ ë¦¬ìŠ¤íŠ¸ ì¤‘ íŠ¹ì • ë¦¬ìŠ¤íŠ¸ í•˜ë‚˜ë¥¼ ì¡°íšŒí•˜ëŠ” APIì…ë‹ˆë‹¤.

- :boardIdë¥¼ í†µí•´ íŠ¹ì • ë³´ë”ë¥¼ ì§€ì •í•˜ê³  ë³´ë” ì†ì— ìˆëŠ” ë¦¬ìŠ¤íŠ¸ ì¤‘ :listIdë¡œ ì°¾ì€ ê²ƒ í•˜ë‚˜ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/comment.router.js#L66](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/c07c6a107ae51498a53f4d7f3f8b45da6313338a/src/modules/list/list.service.ts#L43)

![ë¦¬ìŠ¤íŠ¸ ìƒì„¸ ì¡°íšŒ](https://github.com/user-attachments/assets/14ae8081-1e37-4847-aa43-8e7a23930ee6)

<br>

### 5-18. ë¦¬ìŠ¤íŠ¸ ìˆ˜ì • API

- ì‘ì„±ëœ ë¦¬ìŠ¤íŠ¸ ì¤‘ íŠ¹ì • ë¦¬ìŠ¤íŠ¸ í•˜ë‚˜ë¥¼ ìˆ˜ì •í•˜ëŠ” APIì…ë‹ˆë‹¤.

- :boardIdë¥¼ í†µí•´ íŠ¹ì • ë³´ë”ë¥¼ ì§€ì •í•˜ê³  ë³´ë” ì†ì— ìˆëŠ” ë¦¬ìŠ¤íŠ¸ ì¤‘ :listIdë¡œ ì°¾ì€ ê²ƒ í•˜ë‚˜ë¥¼ ì„ íƒ í•œ í›„ ìˆ˜ì •í•©ë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/comment.router.js#L120](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/c07c6a107ae51498a53f4d7f3f8b45da6313338a/src/modules/list/list.service.ts#L67)

![ë¦¬ìŠ¤íŠ¸ ìˆ˜ì •](https://github.com/user-attachments/assets/6281b3d8-1bc7-46e2-91c7-aacc3a57c766)

<br>

### 5-19. ë¦¬ìŠ¤íŠ¸ ìˆœì„œ ì´ë™ API

- ì‘ì„±ëœ ë¦¬ìŠ¤íŠ¸ ì¤‘ íŠ¹ì • ë¦¬ìŠ¤íŠ¸ í•˜ë‚˜ë¥¼ íƒ€ê²Ÿ ë¦¬ìŠ¤íŠ¸ì˜ ìœ„ì¹˜ë¡œ ì´ë™í•˜ê²Œ ë§Œë“œëŠ” APIì…ë‹ˆë‹¤

- :boardIdë¥¼ í†µí•´ íŠ¹ì • ë³´ë”ë¥¼ ì§€ì •í•˜ê³  ë³´ë” ì†ì— ìˆëŠ” ë¦¬ìŠ¤íŠ¸ ì¤‘ :listIdë¡œ ì°¾ì€ ê²ƒ í•˜ë‚˜ë¥¼ ì„ íƒ í•œ í›„ íŠ¹ì • ìœ„ì¹˜(newPositionId)ë¡œ ì´ë™í•˜ê²Œ í•©ë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/comment.router.js#L358](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/c07c6a107ae51498a53f4d7f3f8b45da6313338a/src/modules/list/list.service.ts#L93)

![ë¦¬ìŠ¤íŠ¸ ìˆœì„œ ì´ë™](https://github.com/user-attachments/assets/417c965f-d12d-4de2-b39f-26af28cefbe4)
![ë¦¬ìŠ¤íŠ¸ ìˆœì„œ ì´ë™](https://github.com/user-attachments/assets/77956295-4689-44e1-8589-c2f1248fdb62)

<br>

### 5-20. ë¦¬ìŠ¤íŠ¸ ì‚­ì œ API

- ì‘ì„±ëœ ë¦¬ìŠ¤íŠ¸ ì¤‘ íŠ¹ì • ë¦¬ìŠ¤íŠ¸ í•˜ë‚˜ë¥¼ ì‚­ì œí•˜ëŠ” APIì…ë‹ˆë‹¤

- :boardIdë¥¼ í†µí•´ íŠ¹ì • ë³´ë”ë¥¼ ì§€ì •í•˜ê³  ë³´ë” ì†ì— ìˆëŠ” ë¦¬ìŠ¤íŠ¸ ì¤‘ :listIdë¡œ ì°¾ì€ ê²ƒ í•˜ë‚˜ë¥¼ ì„ íƒ í•œ í›„ ì‚­ì œí•©ë‹ˆë‹¤.

- ì‚­ì œ í›„ ë¦¬ìŠ¤íŠ¸ì˜ ìˆœì„œë¥¼ ì§€ì¹­í•˜ëŠ” order_indexì˜ ìˆœì„œë¥¼ ì¬ ì •ë¦½í•˜ì—¬ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/comment.router.js#L195](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/c07c6a107ae51498a53f4d7f3f8b45da6313338a/src/modules/list/list.service.ts#L93)

![ë¦¬ìŠ¤íŠ¸ ì‚­ì œ](https://github.com/user-attachments/assets/6674574d-3480-4556-8c10-408113c13120)

<br>

### 5-21. ì¹´ë“œ ìƒì„± API

- ë¦¬ìŠ¤íŠ¸ ì† ì¹´ë“œë¥¼ ìƒì„±í•˜ëŠ” APIì…ë‹ˆë‹¤.

- listId í†µí•´ íŠ¹ì • ë¦¬ìŠ¤íŠ¸ë¥¼ ì§€ì •í•˜ê³  ê·¸ ì†ì—ì„œ ì¹´ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

- ì¹´ë“œ ì œëª©("cardTitle)ë¥¼ `req.body`ë¥¼ í†µí•´ ê°€ì ¸ì˜µë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/trade-complete.router.js#L12](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/6ae86b21af9a9cb412ca8555811d34fc9a2a7409/src/modules/cards/card.service.ts#L29)

![ì¹´ë“œ ìƒì„±](https://github.com/user-attachments/assets/3e22243b-29bd-4bc5-969c-b1703bfa4939)

<br>

### 5-22. ì¹´ë“œ ìˆ˜ì • API

- ë¦¬ìŠ¤íŠ¸ ì† ì¹´ë“œ ë‚´ìš©ì„ ìˆ˜ì •í•˜ëŠ” APIì…ë‹ˆë‹¤.

- listId í†µí•´ íŠ¹ì • ë¦¬ìŠ¤íŠ¸ë¥¼ ì§€ì •í•˜ê³  ê·¸ ì†ì—ì„œ ì¹´ë“œ ë‚´ìš©ì„ ë³€ê²½í•©ë‹ˆë‹¤.

- ì¹´ë“œ ì œëª©, ì¹´ë“œ ë‚´ìš©, ì¹´ë“œ ë°°ê²½ ìƒ‰ìƒ, ì‘ì—…ì í• ë‹¹ ë° ë³€ê²½ì„ `req.body`ë¥¼ í†µí•´ ê°€ì ¸ì˜µë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/trade-history.router.js#L11](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/6ae86b21af9a9cb412ca8555811d34fc9a2a7409/src/modules/cards/card.service.ts#L78)

![ì¹´ë“œ ìˆ˜ì •](https://github.com/user-attachments/assets/75c69d41-9516-44f9-8abb-aa0c78630560)

<br>

### 5-23. ì¹´ë“œ ì‚­ì œ API

- ë¦¬ìŠ¤íŠ¸ ì† ì¹´ë“œë¥¼ ì‚­ì œí•˜ëŠ” APIì…ë‹ˆë‹¤.

- listId í†µí•´ íŠ¹ì • ë¦¬ìŠ¤íŠ¸ë¥¼ ì§€ì •í•˜ê³  cardIdë¥¼ í†µí•´ì„œ íŠ¹ì • ì¹´ë“œë¥¼ ì§€ì •í•œ í›„ ì¹´ë“œë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/follow.router.js#L10](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/6ae86b21af9a9cb412ca8555811d34fc9a2a7409/src/modules/cards/card.service.ts#L147)

![ì¹´ë“œ ì‚­ì œ](https://github.com/user-attachments/assets/41f1e68b-39e3-4469-b8de-1ed2f29394ae)

<br>

### 5-23. ì¹´ë“œ ìˆœì„œ ë³€ê²½ API

- ë¦¬ìŠ¤íŠ¸ ì† ì¹´ë“œì˜ ìˆœì„œë¥¼ APIì…ë‹ˆë‹¤.

- listId í†µí•´ íŠ¹ì • ë¦¬ìŠ¤íŠ¸ë¥¼ ì§€ì •í•˜ê³  ê·¸ ì†ì˜ ì¹´ë“œë¥¼ orderIndexë¥¼ í†µí•´ì„œ íŠ¹ì • ìœ„ì¹˜ë¥¼ ê°€ì§„ ì¹´ë“œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

- ê·¸ í›„ íƒ€ì¼“ ìœ„ì¹˜ì˜ ë¦¬ìŠ¤íŠ¸ì™€ ì¹´ë“œë¥¼ "swapListIndex" ì™€ "swapCardOrderIndex"ë¡œ ë°›ì•„ì„œ ìœ„ì¹˜ë¥¼ íŠ¹ì •í•˜ì—¬ ì´ë™í•  ìœ„ì¹˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/follow.router.js#L10](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/6ae86b21af9a9cb412ca8555811d34fc9a2a7409/src/modules/cards/card.service.ts#L147)

![ì¹´ë“œ ì‚­ì œ](https://github.com/user-attachments/assets/41f1e68b-39e3-4469-b8de-1ed2f29394ae)

<br>

### 5-23. ì¹´ë“œ ìˆœì„œ ë³€ê²½ API

- ë¦¬ìŠ¤íŠ¸ ì† ì¹´ë“œì˜ ìˆœì„œë¥¼ APIì…ë‹ˆë‹¤.

- listId í†µí•´ íŠ¹ì • ë¦¬ìŠ¤íŠ¸ë¥¼ ì§€ì •í•˜ê³  ê·¸ ì†ì˜ ì¹´ë“œë¥¼ orderIndexë¥¼ í†µí•´ì„œ íŠ¹ì • ìœ„ì¹˜ë¥¼ ê°€ì§„ ì¹´ë“œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

- ê·¸ í›„ íƒ€ì¼“ ìœ„ì¹˜ì˜ ë¦¬ìŠ¤íŠ¸ì™€ ì¹´ë“œë¥¼ "swapListIndex" ì™€ "swapCardOrderIndex"ë¡œ ë°›ì•„ì„œ ìœ„ì¹˜ë¥¼ íŠ¹ì •í•˜ì—¬ ì´ë™í•  ìœ„ì¹˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/follow.router.js#L10](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/6ae86b21af9a9cb412ca8555811d34fc9a2a7409/src/modules/cards/card.service.ts#L147)

![ì¹´ë“œ ì‚­ì œ](https://github.com/user-attachments/assets/41f1e68b-39e3-4469-b8de-1ed2f29394ae)

<br>

### 5-23. ì¹´ë“œ ìˆœì„œ ë³€ê²½ API

- ë¦¬ìŠ¤íŠ¸ ì† ì¹´ë“œì˜ ìˆœì„œë¥¼ APIì…ë‹ˆë‹¤.

- listId í†µí•´ íŠ¹ì • ë¦¬ìŠ¤íŠ¸ë¥¼ ì§€ì •í•˜ê³  ê·¸ ì†ì˜ ì¹´ë“œë¥¼ orderIndexë¥¼ í†µí•´ì„œ íŠ¹ì • ìœ„ì¹˜ë¥¼ ê°€ì§„ ì¹´ë“œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

- ê·¸ í›„ íƒ€ì¼“ ìœ„ì¹˜ì˜ ë¦¬ìŠ¤íŠ¸ì™€ ì¹´ë“œë¥¼ "swapListIndex" ì™€ "swapCardOrderIndex"ë¡œ ë°›ì•„ì„œ ìœ„ì¹˜ë¥¼ íŠ¹ì •í•˜ì—¬ ì´ë™í•  ìœ„ì¹˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/follow.router.js#L10](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/6ae86b21af9a9cb412ca8555811d34fc9a2a7409/src/modules/cards/card.service.ts#L147)

![ì¹´ë“œ ì‚­ì œ](https://github.com/user-attachments/assets/41f1e68b-39e3-4469-b8de-1ed2f29394ae)

<br>

### 5-23. ì¹´ë“œ ìˆœì„œ ë³€ê²½ API

- ë¦¬ìŠ¤íŠ¸ ì† ì¹´ë“œì˜ ìˆœì„œë¥¼ APIì…ë‹ˆë‹¤.

- listId í†µí•´ íŠ¹ì • ë¦¬ìŠ¤íŠ¸ë¥¼ ì§€ì •í•˜ê³  ê·¸ ì†ì˜ ì¹´ë“œë¥¼ orderIndexë¥¼ í†µí•´ì„œ íŠ¹ì • ìœ„ì¹˜ë¥¼ ê°€ì§„ ì¹´ë“œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

- ê·¸ í›„ íƒ€ì¼“ ìœ„ì¹˜ì˜ ë¦¬ìŠ¤íŠ¸ì™€ ì¹´ë“œë¥¼ "swapListIndex" ì™€ "swapCardOrderIndex"ë¡œ ë°›ì•„ì„œ ìœ„ì¹˜ë¥¼ íŠ¹ì •í•˜ì—¬ ì´ë™í•  ìœ„ì¹˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

- [https://github.com/KwangSoo1555/sparta-4nd-week-newsfeed/blob/2f60e3fe63728d35484131e85c85fd5456817e06/src/routers/follow.router.js#L10](https://github.com/KwangSoo1555/sparta-6th-week-trello-project/blob/6ae86b21af9a9cb412ca8555811d34fc9a2a7409/src/modules/cards/card.service.ts#L147)

![ì¹´ë“œ ì‚­ì œ](https://github.com/user-attachments/assets/41f1e68b-39e3-4469-b8de-1ed2f29394ae)

<br>

## 6. ì–´ë ¤ì› ë˜ ì 

### 6-1. N:M ê´€ê³„ vs 1:N ê´€ê³„ì˜ ì°¨ì´ (ê¹€ì •ì°¬)

- ERD ì‘ì„±ì„ í•˜ë©´ì„œ ì‚¬ìš©ìê°€ ê²Œì‹œë¬¼ì— ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¼ ê²½ìš°ì— ëŒ€í•´ì„œ ì´ì•¼ê¸°ê°€ ë‚˜ì™”ìŒ

- ì œì¼ ë¨¼ì € ë– ì˜¤ë¥¸ ê´€ê³„ ë°©ì‹ì€ N:M ë°©ì‹ì´ì—ˆìŒ

![ê´€ê³„ O](https://velog.velcdn.com/images/my_code/post/e082e1a6-9e9f-4565-a61f-b814ec97d58e/image.png)

- 1:N, N:1 ê´€ê³„ë¥¼ í†µí•´ì„œ N:M ê´€ê³„ë¥¼ ë§Œë“¤ì–´ ëƒˆìŒ

- ìœ„ì™€ ê°™ì´ userì™€ tradeì˜ idë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ì–´ë–¤ ê²Œì‹œë¬¼ë“¤ì— ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥´ëŠ”ì§€, ê·¸ë¦¬ê³  ì–´ë–¤ ì‚¬ìš©ìë“¤ì´ í•´ë‹¹ ê²Œì‹œë¬¼ì— ì¢‹ì•„ìš”ë¥¼ ëˆŒë €ëŠ”ì§€ ì•Œê¸° ìœ„í•œ ê´€ê³„ë¥¼ ìƒê°í–ˆìŒ

- ìœ„ì™€ ê°™ì´ ê´€ê³„ë¥¼ ì—°ê²°í•¨ìœ¼ë¡œì¨ ë³µì¡í•œ ì—°ì‚°ì´ ë˜ì§€ë§Œ ê´€ê³„ê°€ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ë³€ê²½ ì‚¬í•­ì— ëŒ€í•´ ìœ ì—°í•˜ê²Œ ëŒ€ì²˜ê°€ ê°€ëŠ¥í•´ì§

- ì¦‰, ê´€ê³„ë¥¼ í˜•ì„±í•˜ë©´ ì¢…ì†ì„±ì„ ë§Œë“¤ ìˆ˜ ìˆì–´ì„œ ìˆ˜ì • ì‚­ì œ ì‹œ ì¡°ê¸ˆ ë” í¸ë¦¬í•´ì§

- ë‘ ë²ˆì§¸ë¡œ ë– ì˜¤ë¥¸ ë°©ì‹ì€ ê·¸ëƒ¥ ê·¸ëƒ¥ ëª…ì‹œì ìœ¼ë¡œtrade_likeë¥¼ ë§Œë“¤ê³  ê´€ê³„ë¥¼ í˜•ì„±í•˜ì§€ ì•ŠëŠ” ë°©ì‹ì„ ìƒê°í–ˆìŒ

![ê´€ê³„ X](https://velog.velcdn.com/images/my_code/post/8920f00e-f286-40a9-88a8-c84a64a24497/image.png)

- ìœ„ì™€ ê°™ì€ ë°©ì‹ì€ ê·¸ëƒ¥ ì½”ë“œ ìƒì—ì„œ parameterì™€ ê°™ì€ request ê°’ì„ ì§ì ‘ ê°€ì ¸ì™€ì„œ trade_like í…Œì´ë¸”ì— create í•˜ëŠ” ë°©ì‹ì„

- ìœ„ì™€ ê°™ì€ ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ ë³µì¡í•œ ê´€ê³„ê°€ ì—†ê¸°ì— ê°œë°œí•  ë•ŒëŠ” í¸ë¦¬í•¨

- í•˜ì§€ë§Œ ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí•˜ë©´ ì½”ë“œ ìì²´ë¥¼ ê³ ì¹˜ëŠ” ê²½ìš°ê°€ ë§ì•„ì§€ê¸° ë•Œë¬¸ì— ìœ ì§€ ë³´ìˆ˜ ë©´ì—ì„œ ì¡°ê¸ˆ ë–¨ì–´ì§

- íŒ€ì›ë“¤ê³¼ì˜ íšŒì˜ì—ì„œ ê²°ë¡ ì´ ë‚˜ì§€ ì•Šì•„ì„œ íŠœí„°ë‹˜ì´ ë„ì›€ìœ¼ë¡œ N:M ê´€ê³„ë¥¼ ë§Œë“œëŠ” ê²ƒìœ¼ë¡œ ê²°ì •í–ˆìŒ

- ì‹¬ì§€ì–´ N:M ë°©ì‹ì„ ì‚¬ìš©í•´ì„œ trade_likeë¼ëŠ” í…Œì´ë¸”ì„ ì§ì ‘ ë§Œë“œëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì•”ì‹œì ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” ì´ì•¼ê¸°ë¥¼ ë“¤ì—ˆìŒ

- ê·¸ë˜ì„œ ì•„ë˜ ì°¸ê³  ìë£Œë¥¼ ë°”íƒ•ìœ¼ë¡œ ìŠ¤í‚¤ë§ˆë¥¼ êµ¬ì„±í•¨

- https://dodote10.tistory.com/624

<br>

### 6-2. ì†Œì…œ ë¡œê·¸ì¸ê³¼ ê¸°ì¡´ ì¸ì¦ë°©ì‹ì˜ í˜¸í™˜ (ì±„ìœ ì¼)

- passportë¥¼ ì´ìš©í•œ ì†Œì…œ ë¡œê·¸ì¸ì„ êµ¬í˜„í–ˆì„ ë•Œ ë°›ì•„ì˜¤ëŠ” í† í°ì„ ì‚¬ìš©í•˜ë©´ ê¸°ì¡´ JWTë¥¼ ì‚¬ìš©í•˜ë˜ ì¸ì¦ ë¡œì§ì„ ì¬ì‚¬ìš© í•  ìˆ˜ ì—†ìŒ

- íšŒì› ê°€ì… APIë¥¼ í†µí•´ ê°€ì…í•œ ì‚¬ìš©ìì™€ì˜ ì¸ì¦ ê³¼ì •ì„ ì–´ë–»ê²Œ í†µí•©í•´ì•¼ í• ì§€ ê³ ë¯¼í•¨

- passportì—ì„œ ì œê³µí•˜ëŠ” ì „ëµì„ í†µí•´ ì¸ì¦ëœ ì‚¬ìš©ìì˜ ì •ë³´ë§Œ ë°›ì•„ì˜¨ ë’¤ ê¸°ì¡´ accesstokenê³¼ refreshtokenì„ JWTë¡œ ë°œê¸‰í•œ ë¡œì§ì„ ê·¸ëŒ€ë¡œ ì ìš©.

- ê¸°ì¡´ì˜ í† í° ë°œê¸‰ í•¨ìˆ˜ì™€, í† í° ë¯¸ë“¤ì›¨ì–´ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë¨

- ì†Œì…œë¡œê·¸ì¸ ì‚¬ìš©ìì™€ ì¼ë°˜ íšŒì›ê°€ì… ì‚¬ìš©ì ê°„ êµ¬ë¶„ì„ ë‘ì§€ ì•Šê³  ë™ì¼í•œ ì¸ì¦ê³¼ì •ì„ ê±°ì³ APIì— ëŒ€í•œ ì ‘ê·¼ì„ í†µì œ í•  ìˆ˜ ìˆê²Œ êµ¬í˜„í•¨

<br>

### 6-3. Prisma ì‘ë™ ë¡œì§ì˜ ì´í•´ (êµ¬ë‚¨ìš±)

- ë°±ì—”ë“œ ì‘ì—…ì— í•„ìˆ˜ì ì¸ ì„œë²„ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ì‹ì¸ Prismaì˜ ì´í•´ê°€ ì˜ ë˜ì§€ ì•Šì•˜ìŒ

- ë‹¤ë¥¸ ì‚¬ëŒì˜ ì½”ë“œë¥¼ ì´í•´í•˜ê³ , íŒ€ì˜ ì½”ë“œ ì–‘ì‹ì— ë§ì¶”ì–´ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì˜ ì—°ìŠµì´ ë” í•„ìš”í•˜ë‹¤ê³  ëŠê¼ˆìŒ

- ì†Œí†µì˜ ì¤‘ìš”ì„±ì„ ë‹¤ì‹œ í•œ ë²ˆ ì²´ê°í•˜ì˜€ê³ , ì–´ë ¤ìš´ ì ì´ ìˆì„ ë•Œ ì†”ì§í•˜ê³  ì •í™•í•œ ë¸Œë¦¬í•‘ì„ í†µí•´ ì–´ë ¤ì›€ì„ ê·¹ë³µí•˜ëŠ” ë°©ë²•ì„ ì•Œê²Œ ë˜ì—ˆìŒ

<br>

### 6-4. ê³„íš, ì„¤ê³„ì˜ ë¶€ì¡±ê³¼ í…ŒìŠ¤íŠ¸ ì—¬ëŸ¬ì›€ (ë³µê´‘ìˆ˜)

- í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì–´ë–¤ ë°©í–¥ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ê²ƒì¸ì§€ ë¯¸ë¦¬ ê³„íšì„ ì¡ì§€ ì•Šì•„ ë¡œì§ êµ¬í˜„ ë„ì¤‘ ì„œë¹„ìŠ¤ ë°©í–¥ì„±ì´ ì¡íˆì§€ ì•Šì•˜ìŒ

- í”„ë¡ íŠ¸ ì—”ë“œì˜ ì‘ì—… ì—†ì´ ë°ì´í„° ë² ì´ìŠ¤ì˜ ìŠ¤í‚¤ë§ˆì™€ ë¡œì§ì„ í†µí•œ insomnia í…ŒìŠ¤íŠ¸ë¡œë§Œ ì½”ë“œ ë™ì‘ì„ íŒë‹¨í•˜ê¸° ì‰½ì§€ ì•Šì•˜ìŒ

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//

## Description

[Nest](https://github.com/nestjs/nest) framework TypeScript starter repository.

## Installation

```bash
$ npm install
```

## Running the app

```bash
# develop mode
$ npm run dev

# development
$ npm run start

# watch mode
$ npm run start:dev

# production mode
$ npm run start:prod
```

## Test

```bash
# unit tests
$ npm run test

# e2e tests
$ npm run test:e2e

# test coverage
$ npm run test:cov
```

## Support

Nest is an MIT-licensed open source project. It can grow thanks to the sponsors and support by the amazing backers. If you'd like to join them, please [read more here](https://docs.nestjs.com/support).

## Stay in touch

- Author - [Kamil MyÅ›liwiec](https://kamilmysliwiec.com)
- Website - [https://nestjs.com](https://nestjs.com/)
- Twitter - [@nestframework](https://twitter.com/nestframework)

## License

Nest is [MIT licensed](LICENSE).
